var t,e;t=this,e=function(){function t(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}return function e(a,n){var i=this,r=n.background,o=void 0===r?"#000":r,c=n.opacity,s=void 0===c?90:c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"initial",(function(){for(var t=document.querySelectorAll(".".concat(i.className)),e=0;e<t.length;e++){var a=i.parseJson(t[e].getAttribute("data-yt")).id;t[e].setAttribute("style","background-image:url('//i.ytimg.com/vi/".concat(a,"/0.jpg');")),t[e].appendChild(i.createBtn())}})),t(this,"parseJson",(function(t){return JSON.parse(t)})),t(this,"hex2rgb",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a="string"==typeof t?parseInt(t.replace("#",""),16):t;return"\n      rgba(".concat(a>>16,", \n      ").concat((65280&a)>>8,", \n      ").concat(255&a,", \n      ").concat(e/100,")\n    ")})),t(this,"addClass",(function(t){var e=document.createElement("div");return e.className=t,e})),t(this,"createBtn",(function(){var t=i.addClass("ytLazy__thumbnail"),e=i.addClass("ytLazy__img ytLazy__img--svg");return t.appendChild(e),t})),t(this,"createIFrame",(function(t){var e=document.createElement("iframe");return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),e.setAttribute("allow","accelerometer;autoplay;encrypted-media;gyroscope;picture-in-picture"),e.src="https://www.youtube.com/embed/".concat(t,"?autoplay=1"),e})),t(this,"handleEvent",(function(){[].slice.call(["click","keydown"]).map((function(t){document.addEventListener(t,(function(t){t.stopPropagation();var e=t.target,a=e.closest(".ytLazy__item");if("ytLight-close"===e.className||"ytLight-wrap"===e.className||27===t.keyCode){var n=document.querySelector(".is-open");if(null===n)return;n.parentNode.removeChild(n),document.body.classList.remove("ytLight-active")}if(null!==a&&a.className===i.className){var r=i.parseJson(a.getAttribute("data-yt")),o=r.id;if(r.local){var c=i.createIFrame(o);return c.setAttribute("width","100%"),c.setAttribute("height","100%"),a.innerHTML="",void a.appendChild(c)}i.lightbox(o)}}))}))})),t(this,"lightbox",(function(t){document.body.classList.add("ytLight-active");var e=document.createElement("button");e.className="ytLight-close",e.setAttribute("type","button"),e.setAttribute("title","close movie");var a=i.addClass("ytLight-wrap"),n=i.addClass("ytLight-container"),r=i.addClass("ytLight-iframe");r.appendChild(i.createIFrame(t)),n.appendChild(r),a.appendChild(n),r.insertAdjacentElement("afterend",e);var o=i.addClass("ytLight is-open");o.setAttribute("style","background:".concat(i.hex2rgb(i.background,i.opacity))),o.appendChild(a),document.body.appendChild(o)})),this.className=a,this.background=o,this.opacity=s,this.initial()}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).ytLazy=e();
