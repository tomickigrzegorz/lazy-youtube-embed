var ytLazy=function(){"use strict";function t(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}return function e(a,n){var i=this,r=n.background,c=void 0===r?"#000":r,o=n.opacity,s=void 0===o?90:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t(this,"initial",(function(){for(var t=document.querySelectorAll(".".concat(i.className)),e=0;e<t.length;e++){var a=i.parseJson(t[e].getAttribute("data-yt")).id;t[e].setAttribute("style","background-image:url('//i.ytimg.com/vi/".concat(a,"/0.jpg');")),t[e].appendChild(i.createBtn())}})),t(this,"parseJson",(function(t){return JSON.parse(t)})),t(this,"HexToRgb",(function(t,e){return"rgba("+(t=t.replace("#","")).match(new RegExp("(.{"+t.length/3+"})","g")).map((function(e){return parseInt(t.length%2?e+e:e,16)})).concat(e/100||1).join(",")+")"})),t(this,"addClass",(function(t){var e=document.createElement("div");return e.className=t,e})),t(this,"createBtn",(function(){var t=i.addClass("ytLazy__thumbnail"),e=i.addClass("ytLazy__img ytLazy__img--svg");return t.appendChild(e),t})),t(this,"createIFrame",(function(t){var e=document.createElement("iframe");return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),e.setAttribute("allow","accelerometer;autoplay;encrypted-media;gyroscope;picture-in-picture"),e.src="https://www.youtube.com/embed/".concat(t,"?autoplay=1"),e})),t(this,"handleEvent",(function(){[].slice.call(["click","keydown"]).map((function(t){document.addEventListener(t,(function(t){t.stopPropagation();var e=t.target,a=e.closest(".ytLazy__item");if("ytLight-close"===e.className||"ytLight-wrap"===e.className||27===t.keyCode){var n=document.querySelector(".is-open");if(null===n)return;n.parentNode.removeChild(n)}if(null!==a&&a.className===i.className){var r=i.parseJson(a.getAttribute("data-yt")),c=r.id;if(r.local){var o=i.createIFrame(c);return o.setAttribute("width","100%"),o.setAttribute("height","100%"),a.innerHTML="",void a.appendChild(o)}i.lightbox(c)}}))}))})),t(this,"lightbox",(function(t){var e=document.createElement("button");e.className="ytLight-close",e.setAttribute("type","button"),e.setAttribute("title","close movie");var a=i.addClass("ytLight-wrap"),n=i.addClass("ytLight-container"),r=i.addClass("ytLight-iframe");r.appendChild(i.createIFrame(t)),n.appendChild(r),a.appendChild(n),r.insertAdjacentElement("afterend",e);var c=i.addClass("ytLight is-open");c.setAttribute("style","background:".concat(i.HexToRgb(i.background,i.opacity))),c.appendChild(a),document.body.appendChild(c)})),this.className=a,this.background=c,this.opacity=s,this.initial()}}();
