var ytLazy=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}return function r(a){var i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,r),t(this,"initial",(function(){i.getYTLazy=document.querySelectorAll(".".concat(i.className));for(var e=0;e<i.getYTLazy.length;e++){var t=i.parseJson(i.getYTLazy[e].getAttribute("data-yt")),n=t.type,r=t.id,a=t.local;i.type=n,i.id=r,i.local=a||!1,i.imgType=i.imageType(i.type),i.getYTLazy[e].setAttribute("style","background-image: url('//i.ytimg.com/vi/".concat(i.id,"/").concat(i.imgType,"'); background-repeat:no-repeat; background-size: cover; background-position: center;")),i.getYTLazy[e].appendChild(i.createButtonYoutube())}})),t(this,"parseJson",(function(e){return JSON.parse(e)})),t(this,"imageType",(function(e){var t="";switch(e){case 0:t="default.jpg";break;case 1:t="0.jpg";break;case 2:t="1.jpg";break;case 3:t="2.jpg";break;case 4:t="3.jpg";break;case 5:t="hqdefault.jpg";break;case 6:t="mqdefault.jpg"}return t})),t(this,"convertHexToRgb",(function(e,t){var r=n(e.match(/\w\w/g).map((function(e){return parseInt(e,16)})),3),a=r[0],i=r[1],o=r[2];return t?"rgba(".concat(a,",").concat(i,",").concat(o,",").concat(t/100,")"):"rgb(".concat(a,",").concat(i,",").concat(o,")")})),t(this,"createButtonYoutube",(function(){var e=i.divElement.cloneNode();e.className="ytLazy__thumbnail";var t=i.divElement.cloneNode();return t.classList.add("ytLazy__img"),t.classList.add("ytLazy__img--svg"),e.appendChild(t),e})),t(this,"createFrame",(function(e){var t=i.iframe.cloneNode();return t.src="https://www.youtube.com/embed/".concat(e,"?autoplay=1"),t})),t(this,"handleEvent",(function(){document.body.addEventListener("click",(function(e){e.preventDefault();var t=e.target,n=t.closest(".ytLazy__item");if("ytLight-close"!==t.className&&"ytLight-wrap"!==t.className||(i.isOpen=document.querySelector(".is-open"),i.removeLightbox(i.isOpen)),null!==n&&n.className===i.className){var r=i.parseJson(n.getAttribute("data-yt")),a=r.id;if(r.local){var o=i.createFrame(a);return o.setAttribute("width","100%"),o.setAttribute("height","100%"),n.innerHTML="",void n.appendChild(o)}i.lightbox(a)}})),window.addEventListener("keydown",(function(e){if(e.stopPropagation(),27===e.keyCode){if(i.isOpen=document.querySelector(".is-open"),null===i.isOpen)return;i.removeLightbox(i.isOpen)}}))})),t(this,"removeLightbox",(function(e){e.parentNode.removeChild(e)})),t(this,"lightbox",(function(e){var t=i.button.cloneNode();t.className="ytLight-close",t.setAttribute("type","button"),t.setAttribute("title","close movie");var n=i.divElement.cloneNode();n.className="ytLight-wrap";var r=i.divElement.cloneNode();r.className="ytLight-container";var a=i.divElement.cloneNode();a.className="ytLight-iframe",a.appendChild(i.createFrame(e)),r.appendChild(a),n.appendChild(r),a.insertAdjacentElement("afterend",t);var o=i.divElement.cloneNode();o.classList.add("ytLight"),o.classList.add("is-open"),o.setAttribute("style","background: ".concat(i.convertHexToRgb(i.backgroundColor,i.opacity))),o.appendChild(n),document.body.appendChild(o)})),this.className=a,this.backgroundColor="undefined"===o.backgroundColor?o.backgroundColor:"#000000",this.opacity="undefined"===o.opacity?o.opacity:90,this.divElement=document.createElement("div"),this.button=document.createElement("button"),this.iframe=document.createElement("iframe"),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("allowfullscreen",""),this.iframe.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),this.initial()}}();
