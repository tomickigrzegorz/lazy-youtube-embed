var ytLazy=function(){"use strict";var t=function(t,e){var i=document.createElement(t);return i.className=e,i},e=function(t,e){for(var i in e)t.setAttribute(i,e[i])},i=function(t){return JSON.parse(t)},a=function(i,a){var n=t("iframe","");return e(n,{frameborder:"0",allowfullscreen:"true",allow:"accelerometer;autoplay;encrypted-media;gyroscope;picture-in-picture;",src:"".concat(a,"/embed/").concat(i,"?autoplay=1")}),n};return function(n,o){var r=this,c=o.background,d=void 0===c?"rgba(0,0,0,0.9)":c,s=o.maxWidth,l=void 0===s?90:s,h=o.overflow,u=void 0!==h&&h,v=o.createWatchIn,y=void 0===v?function(){}:v;this.initial=function(){for(var a=document.querySelectorAll(".".concat(r.class)),n=function(n){var o,c,d=i(a[n].getAttribute("data-yt")),s=d.id,l=d.openIn,h=d.title;if(e(a[n],{style:"background-image:url('//i.ytimg.com/vi/".concat(s,"/sddefault.jpg');")}),a[n].appendChild((o=t("div","ytLazy__thumbnail"),c=t("div","ytLazy__img ytLazy__img--svg"),o.appendChild(c),o)),null!=h&&h){var u='<div class="ytLazy__title">'.concat(h,'</div><div class="ytLazy__gradient-top"></div>');a[n].insertAdjacentHTML("beforeend",u)}l&&r.createWatchIn&&r.createWatchIn({link:r.link+"/watch?v="+s,template:function(t){a[n].insertAdjacentHTML("beforeend",t)}})},o=0;o<a.length;o++)n(o);r.handEvent()},this.setLbox=function(t){if(!t.closest(".ytLazy__watch-in-link")){var n=t.closest(".ytLazy__item");if(null!==n&&n.className===r.class){var o=i(n.getAttribute("data-yt")),c=o.id,d=o.local,s=o.maxWidth;if(d){var l=a(c,r.link);return e(l,{width:"100%",height:"100%"}),n.innerHTML="",void n.appendChild(l)}r.lightbox({id:c,maxWidth:s})}}},this.closeLbox=function(){var t=document.querySelector(".is-open");null!==t&&(t.innerHTML="",t.classList.remove("is-open"),r.overflow&&document.body.classList.remove("ytLight-active"))},this.handClick=function(t){t.stopPropagation();var e=t.target;r.closeLbox(),r.setLbox(e)},this.handKey=function(t){"Escape"===t.key&&(r.setLbox(t.target),r.closeLbox())},this.handEvent=function(){window.addEventListener("click",r.handClick),window.addEventListener("keydown",r.handKey)},this.lightbox=function(i){var n=i.id,o=i.maxWidth;r.overflow&&document.body.classList.add("ytLight-active");var c=t("button","ytLight-close");e(c,{type:"button",title:"close movie"});var d=t("div","ytLight-wrap"),s=t("div","ytLight-container");(r.maxWidth||o)&&e(s,{style:"max-width: ".concat(o||r.maxWidth,"%")});var l=t("div","ytLight-iframe");l.appendChild(a(n,r.link)),s.appendChild(l),d.appendChild(s),l.insertAdjacentElement("afterend",c);var h=r.overLayer;h.appendChild(d),h.classList.add("is-open"),h.setAttribute("style","background:".concat(r.background,";"))},this.class=n,this.background=d,this.overflow=u,this.maxWidth=l,this.createWatchIn=y,this.link="https://www.youtube.com",this.overLayer=t("div","ytLight");var m=this.overLayer;document.body.appendChild(m),this.initial()}}();
