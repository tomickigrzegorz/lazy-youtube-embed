!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).ytLazy=e()}(this,(function(){"use strict";var t=function(t,e){var i=document.createElement(t);return i.className=e,i},e=function(t,e){for(var i in e)t.setAttribute(i,e[i])},i=function(t){return JSON.parse(t)},n=function(i,n){var a=t("iframe","");return e(a,{frameborder:"0",allowfullscreen:"true",allow:"accelerometer;autoplay;encrypted-media;gyroscope;picture-in-picture;",src:"".concat(n,"/embed/").concat(i,"?autoplay=1")}),a};return function(a,o){var d=this,c=o.background,r=void 0===c?"rgba(0,0,0,0.9)":c,s=o.maxWidth,l=void 0===s?90:s,h=o.overflow,u=void 0!==h&&h,v=o.createWatchIn,y=void 0===v?function(){}:v;this.initial=function(){for(var n=document.querySelectorAll(".".concat(d.class)),a=function(a){var o,c,r=i(n[a].getAttribute("data-yt")),s=r.id,l=r.openIn,h=r.title;if(e(n[a],{style:"background-image:url('//i.ytimg.com/vi/".concat(s,"/sddefault.jpg');")}),n[a].appendChild((o=t("div","ytLazy__thumbnail"),c=t("div","ytLazy__img ytLazy__img--svg"),o.appendChild(c),o)),null!=h&&h){var u='<div class="ytLazy__title">'.concat(h,'</div><div class="ytLazy__gradient-top"></div>');n[a].insertAdjacentHTML("beforeend",u)}l&&d.createWatchIn&&d.createWatchIn({link:d.link+"/watch?v="+s,template:function(t){n[a].insertAdjacentHTML("beforeend",t)}})},o=0;o<n.length;o++)a(o);d.handEvent()},this.setLbox=function(t){if(!t.closest(".ytLazy__watch-in-link")){var a=t.closest(".ytLazy__item");if(null!==a&&a.className===d.class){var o=i(a.getAttribute("data-yt")),c=o.id,r=o.local,s=o.maxWidth;if(r){var l=n(c,d.link);return e(l,{width:"100%",height:"100%"}),a.innerHTML="",void a.appendChild(l)}d.lightbox({id:c,maxWidth:s})}}},this.closeLbox=function(){var t=document.querySelector(".is-open");null!==t&&(t.innerHTML="",t.classList.remove("is-open"),d.overflow&&document.body.classList.remove("ytLight-active"))},this.handClick=function(t){t.stopPropagation();var e=t.target;d.closeLbox(),d.setLbox(e)},this.handKey=function(t){"Escape"===t.key&&(d.setLbox(t.target),d.closeLbox())},this.handEvent=function(){window.addEventListener("click",d.handClick),window.addEventListener("keydown",d.handKey)},this.lightbox=function(i){var a=i.id,o=i.maxWidth;d.overflow&&document.body.classList.add("ytLight-active");var c=t("button","ytLight-close");e(c,{type:"button",title:"close movie"});var r=t("div","ytLight-wrap"),s=t("div","ytLight-container");(d.maxWidth||o)&&e(s,{style:"max-width: ".concat(o||d.maxWidth,"%")});var l=t("div","ytLight-iframe");l.appendChild(n(a,d.link)),s.appendChild(l),r.appendChild(s),l.insertAdjacentElement("afterend",c);var h=d.overLayer;h.appendChild(r),h.classList.add("is-open"),h.setAttribute("style","background:".concat(d.background,";"))},this.class=a,this.background=r,this.overflow=u,this.maxWidth=l,this.createWatchIn=y,this.link="https://www.youtube.com",this.overLayer=t("div","ytLight");var f=this.overLayer;document.body.appendChild(f),this.initial()}}));
