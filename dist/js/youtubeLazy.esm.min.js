var t=function(t,e){var i=document.createElement(t);return i.className=e,i},e=function(t,e){for(var i in e)t.setAttribute(i,e[i])},i=function(t){return JSON.parse(t)},a=function(i,a){var n=t("iframe","");return e(n,{frameborder:"0",allowfullscreen:"true",allow:"accelerometer;autoplay;encrypted-media;gyroscope;picture-in-picture;",src:"".concat(a,"/embed/").concat(i,"?autoplay=1")}),n},n=function(n,o){var c=this,r=o.background,d=void 0===r?"rgba(0,0,0,0.9)":r,l=o.maxWidth,s=void 0===l?90:l,h=o.overflow,u=void 0!==h&&h,v=o.createWatchIn,y=void 0===v?function(){}:v;this.initial=function(){for(var a=document.querySelectorAll(".".concat(c.class)),n=function(n){var o,r,d=i(a[n].getAttribute("data-yt")),l=d.id,s=d.openIn,h=d.title;if(e(a[n],{style:"background-image:url('//i.ytimg.com/vi/".concat(l,"/sddefault.jpg');")}),a[n].appendChild((o=t("div","ytLazy__thumbnail"),r=t("div","ytLazy__img ytLazy__img--svg"),o.appendChild(r),o)),null!=h&&h){var u='<div class="ytLazy__title">'.concat(h,'</div><div class="ytLazy__gradient-top"></div>');a[n].insertAdjacentHTML("beforeend",u)}s&&c.createWatchIn&&c.createWatchIn({link:c.link+"/watch?v="+l,template:function(t){a[n].insertAdjacentHTML("beforeend",t)}})},o=0;o<a.length;o++)n(o);c.handEvent()},this.setLbox=function(t){if(!t.closest(".ytLazy__watch-in-link")){var n=t.closest(".ytLazy__item");if(null!==n&&n.className===c.class){var o=i(n.getAttribute("data-yt")),r=o.id,d=o.local,l=o.maxWidth;if(d){var s=a(r,c.link);return e(s,{width:"100%",height:"100%"}),n.innerHTML="",void n.appendChild(s)}c.lightbox({id:r,maxWidth:l})}}},this.closeLbox=function(){var t=document.querySelector(".is-open");null!==t&&(t.innerHTML="",t.classList.remove("is-open"),c.overflow&&document.body.classList.remove("ytLight-active"))},this.handClick=function(t){t.stopPropagation();var e=t.target;c.closeLbox(),c.setLbox(e)},this.handKey=function(t){"Escape"===t.key&&(c.setLbox(t.target),c.closeLbox())},this.handEvent=function(){window.addEventListener("click",c.handClick),window.addEventListener("keydown",c.handKey)},this.lightbox=function(i){var n=i.id,o=i.maxWidth;c.overflow&&document.body.classList.add("ytLight-active");var r=t("button","ytLight-close");e(r,{type:"button",title:"close movie"});var d=t("div","ytLight-wrap"),l=t("div","ytLight-container");(c.maxWidth||o)&&e(l,{style:"max-width: ".concat(o||c.maxWidth,"%")});var s=t("div","ytLight-iframe");s.appendChild(a(n,c.link)),l.appendChild(s),d.appendChild(l),s.insertAdjacentElement("afterend",r);var h=c.overLayer;h.appendChild(d),h.classList.add("is-open"),h.setAttribute("style","background:".concat(c.background,";"))},this.class=n,this.background=d,this.overflow=u,this.maxWidth=s,this.createWatchIn=y,this.link="https://www.youtube.com",this.overLayer=t("div","ytLight");var p=this.overLayer;document.body.appendChild(p),this.initial()};export{n as default};
