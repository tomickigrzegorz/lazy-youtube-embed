var t=function(t,e){var i=document.createElement(t);return i.className=e,i},e=function(t,e){for(var i in e)t.setAttribute(i,e[i])},i=function(t){return JSON.parse(t)},a=function(i,a){var n=t("iframe","");return e(n,{frameborder:"0",allowfullscreen:"true",allow:"accelerometer;autoplay;encrypted-media;gyroscope;picture-in-picture;",src:"".concat(a,"/embed/").concat(i,"?autoplay=1")}),n},n=function(n,o){var c=this,r=o.background,d=void 0===r?"#000":r,s=o.opacity,l=void 0===s?80:s,h=o.maxWidth,u=void 0===h?90:h,v=o.overflow,y=void 0!==v&&v,p=o.createWatchIn,m=void 0===p?function(){}:p;this.initial=function(){for(var a=document.querySelectorAll(".".concat(c.class)),n=function(n){var o,r,d=i(a[n].getAttribute("data-yt")),s=d.id,l=d.openIn;e(a[n],{style:"background-image:url('//i.ytimg.com/vi/".concat(s,"/sddefault.jpg');")}),a[n].appendChild((o=t("div","ytLazy__thumbnail"),r=t("div","ytLazy__img ytLazy__img--svg"),o.appendChild(r),o)),l&&c.createWatchIn&&c.createWatchIn({link:c.link+"/watch?v="+s,template:function(t){a[n].insertAdjacentHTML("beforeend",t)}})},o=0;o<a.length;o++)n(o);c.handEvent()},this.hex2rgb=function(t,e){void 0===t&&(t="#000"),void 0===e&&(e=10);var i="string"==typeof t?parseInt(t.replace("#",""),16):t;return"rgba(".concat(i>>16,",").concat((65280&i)>>8,",").concat(255&i,",").concat(e/100,")")},this.setLbox=function(t){if(!t.closest(".ytLazy__watch-in-link")){var n=t.closest(".ytLazy__item");if(null!==n&&n.className===c.class){var o=i(n.getAttribute("data-yt")),r=o.id,d=o.local,s=o.maxWidth;if(d){var l=a(r,c.link);return e(l,{width:"100%",height:"100%"}),n.innerHTML="",void n.appendChild(l)}c.lightbox({id:r,maxWidth:s})}}},this.closeLbox=function(){var t=document.querySelector(".is-open");null!==t&&(t.innerHTML="",t.classList.remove("is-open"),c.overflow&&document.body.classList.remove("ytLight-active"))},this.handClick=function(t){t.stopPropagation();var e=t.target;c.closeLbox(),c.setLbox(e)},this.handKey=function(t){"Escape"===t.key&&(c.setLbox(t.target),c.closeLbox())},this.handEvent=function(){window.addEventListener("click",c.handClick),window.addEventListener("keydown",c.handKey)},this.lightbox=function(i){var n=i.id,o=i.maxWidth;c.overflow&&document.body.classList.add("ytLight-active");var r=t("button","ytLight-close");e(r,{type:"button",title:"close movie"});var d=t("div","ytLight-wrap"),s=t("div","ytLight-container");(c.maxWidth||o)&&e(s,{style:"max-width: ".concat(o||c.maxWidth,"%")});var l=t("div","ytLight-iframe");l.appendChild(a(n,c.link)),s.appendChild(l),d.appendChild(s),l.insertAdjacentElement("afterend",r);var h=c.overLayer;h.appendChild(d),h.classList.add("is-open"),h.setAttribute("style","background:".concat(c.hex2rgb(c.background,c.opacity)))},this.class=n,this.background=d,this.opacity=l,this.overflow=y,this.maxWidth=u,this.createWatchIn=m,this.link="https://www.youtube.com",this.overLayer=t("div","ytLight");var f=this.overLayer;document.body.appendChild(f),this.initial()};export{n as default};
